<div class="container">
  <h2>부동산 취득세 계산기</h2>

  <!-- 거래 금액 -->
  <div class="input-box">
    <input type="text" id="amount" placeholder="0" oninput="formatNumber(this)">
    <span class="unit">원</span>
  </div>

  <!-- 전용면적 -->
  <div class="input-box">
    <label for="area">전용면적:</label>
    <select id="area">
      <option value="small">85m² 이하</option>
      <option value="large">85m² 초과</option>
    </select>
  </div>

  <!-- 주택 보유 수 -->
  <div class="input-box">
    <label for="houseCount">보유 주택 수:</label>
    <select id="houseCount" onchange="toggleRegionOption()">
      <option value="1">1주택</option>
      <option value="2">2주택</option>
      <option value="3">3주택 이상</option>
    </select>
  </div>

  <!-- 조정지역 여부 (2주택일 경우만 보임) -->
  <div class="input-box" id="regionBox" style="display:none;">
    <label for="region">기존 주택 지역:</label>
    <select id="region">
      <option value="nonregulated">비조정지역</option>
      <option value="regulated">조정지역</option>
    </select>
  </div>

  <!-- 계산 버튼 -->
  <button class="calculate-btn" onclick="calculate()">계산하기</button>

  <!-- 결과 -->
  <div class="result" id="result">취득세: -</div>
  <div class="note">* 세율은 단일 예시 기준</div>
</div>

<script>
  function formatNumber(input) {
    let value = input.value.replace(/,/g, '');
    if (!isNaN(value) && value !== '') {
      input.value = Number(value).toLocaleString();
    }
  }

  function toggleRegionOption() {
    let houseCount = document.getElementById("houseCount").value;
    let regionBox = document.getElementById("regionBox");
    regionBox.style.display = (houseCount === "2") ? "block" : "none";
  }

  function calculate() {
    let amount = document.getElementById('amount').value.replace(/,/g, '');
    let area = document.getElementById('area').value;
    let houseCount = document.getElementById('houseCount').value;
    let region = document.getElementById('region') ? document.getElementById('region').value : null;
    let resultDiv = document.getElementById('result');

    if (!amount) {
      alert("거래 금액을 입력하세요.");
      return;
    }

    amount = Number(amount);

    // 👉 여기서부터는 조건별 세율 계산 로직을 구현해야 함
    // 지금은 일단 샘플 계산 (기본 1% 적용)
    let taxRate = 0.01; 
    let tax = amount * taxRate;

    resultDiv.innerText = "취득세: " + Math.round(tax).toLocaleString() + " 원";
  }
</script>
