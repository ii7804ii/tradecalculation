<div class="container">
  <h2>ë¶€ë™ì‚° ì·¨ë“ì„¸ ê³„ì‚°ê¸°</h2>

  <!-- ê±°ë˜ ê¸ˆì•¡ -->
  <div class="input-box">
    <input type="text" id="amount" placeholder="0" oninput="formatNumber(this)">
    <span class="unit">ì›</span>
  </div>

  <!-- ì „ìš©ë©´ì  -->
  <div class="input-box">
    <label for="area">ì „ìš©ë©´ì :</label>
    <select id="area">
      <option value="small">85mÂ² ì´í•˜</option>
      <option value="large">85mÂ² ì´ˆê³¼</option>
    </select>
  </div>

  <!-- ì£¼íƒ ë³´ìœ  ìˆ˜ -->
  <div class="input-box">
    <label for="houseCount">ë³´ìœ  ì£¼íƒ ìˆ˜:</label>
    <select id="houseCount" onchange="toggleRegionOption()">
      <option value="1">1ì£¼íƒ</option>
      <option value="2">2ì£¼íƒ</option>
      <option value="3">3ì£¼íƒ ì´ìƒ</option>
    </select>
  </div>

  <!-- ì¡°ì •ì§€ì—­ ì—¬ë¶€ (2ì£¼íƒì¼ ê²½ìš°ë§Œ ë³´ì„) -->
  <div class="input-box" id="regionBox" style="display:none;">
    <label for="region">ê¸°ì¡´ ì£¼íƒ ì§€ì—­:</label>
    <select id="region">
      <option value="nonregulated">ë¹„ì¡°ì •ì§€ì—­</option>
      <option value="regulated">ì¡°ì •ì§€ì—­</option>
    </select>
  </div>

  <!-- ê³„ì‚° ë²„íŠ¼ -->
  <button class="calculate-btn" onclick="calculate()">ê³„ì‚°í•˜ê¸°</button>

  <!-- ê²°ê³¼ -->
  <div class="result" id="result">ì·¨ë“ì„¸: -</div>
  <div class="note">* ì„¸ìœ¨ì€ ë‹¨ì¼ ì˜ˆì‹œ ê¸°ì¤€</div>
</div>

<script>
  function formatNumber(input) {
    let value = input.value.replace(/,/g, '');
    if (!isNaN(value) && value !== '') {
      input.value = Number(value).toLocaleString();
    }
  }

  function toggleRegionOption() {
    let houseCount = document.getElementById("houseCount").value;
    let regionBox = document.getElementById("regionBox");
    regionBox.style.display = (houseCount === "2") ? "block" : "none";
  }

  function calculate() {
    let amount = document.getElementById('amount').value.replace(/,/g, '');
    let area = document.getElementById('area').value;
    let houseCount = document.getElementById('houseCount').value;
    let region = document.getElementById('region') ? document.getElementById('region').value : null;
    let resultDiv = document.getElementById('result');

    if (!amount) {
      alert("ê±°ë˜ ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”.");
      return;
    }

    amount = Number(amount);

    // ğŸ‘‰ ì—¬ê¸°ì„œë¶€í„°ëŠ” ì¡°ê±´ë³„ ì„¸ìœ¨ ê³„ì‚° ë¡œì§ì„ êµ¬í˜„í•´ì•¼ í•¨
    // ì§€ê¸ˆì€ ì¼ë‹¨ ìƒ˜í”Œ ê³„ì‚° (ê¸°ë³¸ 1% ì ìš©)
    let taxRate = 0.01; 
    let tax = amount * taxRate;

    resultDiv.innerText = "ì·¨ë“ì„¸: " + Math.round(tax).toLocaleString() + " ì›";
  }
</script>
